!function(){"use strict";var t={};!function(t){var a=[],n=0,o={};t.dispatchCalculationJob=function(t,e){var s=n++;return new Promise((function(n,r){o[s]={resolve:n,reject:r};var u=function(t){var n=t%4;if(a[n])return a[n];var e=new Worker("functionssWorker.js");return e.addEventListener("message",(function(t){var a=t.data;if("string"==typeof a&&(a=JSON.parse(a)),"number"==typeof a.jobId){var n=a.jobId,e=o[n];e&&(a.error?e.reject(new Error):e.resolve(a.result),delete o[n])}})),a[n]=e,e}(s);u.postMessage({jobId:s,name:t,parameters:e})}))}}(t),CustomFunctions.associate("ADD",(function(t,a){return t+a})),CustomFunctions.associate("CLOCK",(function(t){var a=setInterval((function(){var a=(new Date).toLocaleTimeString();t.setResult(a)}),1e3);t.onCanceled=function(){clearInterval(a)}})),CustomFunctions.associate("INCREMENT",(function(t,a){var n=0,o=setInterval((function(){n+=t,a.setResult(n)}),1e3);a.onCanceled=function(){clearInterval(o)}})),CustomFunctions.associate("LOG",(function(t){return console.log(t),t})),CustomFunctions.associate("TEST",(function(a){return t.dispatchCalculationJob("TEST",[a])})),CustomFunctions.associate("TEST_PROMISE",(function(a){return t.dispatchCalculationJob("TEST_PROMISE",[a])})),CustomFunctions.associate("TEST_ERROR",(function(a){return t.dispatchCalculationJob("TEST_ERROR",[a])})),CustomFunctions.associate("TEST_ERROR_PROMISE",(function(a){return t.dispatchCalculationJob("TEST_ERROR_PROMISE",[a])})),CustomFunctions.associate("TEST_UI_THREAD",(function(t){for(var a=0,n=0;n<t;n++){a+=Math.tan(Math.atan(Math.tan(Math.atan(Math.tan(Math.atan(Math.tan(Math.atan(Math.tan(Math.atan(50))))))))));for(var o=0;o<t;o++)a-=Math.tan(Math.atan(Math.tan(Math.atan(Math.tan(Math.atan(Math.tan(Math.atan(Math.tan(Math.atan(50))))))))))}return a}))}();
//# sourceMappingURL=functions.js.map